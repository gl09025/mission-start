性能优化有哪些方法

性能优化主要思想就是减少HTTP请求，压缩资源以「提高」网速，CDN「提高」用户的网速。

### 减少HTTP请求数

将小图制作成精灵图。多个CSS或多个JS文件合并。

### 使用CDN

静态资源使用CDN，可自动选择离用户最近的节点

### 使用缓存Cache-Control，Expires，Etag

服务器和客户端使用HTTP的缓存机制，用户下次请求时可只加载少量资源。

### 服务器使用gzip压缩

后端使用gzip压缩，减少资源的体积，减少传输时间。

### CSS放在head标签里

CSS文件可以异步下载，所以放在头部，避免内容样式短暂失效（FOUC）

### JS文件放在body标签的底部

JS文件是载入立马就执行，无法异步下载。放在底部，避免长时间执行造成的页面阻塞。

### 压缩CSS，JS文件

使用工具对CSS和JS文件进行压缩，减小文件体积，减少传输时间。

### 减少DNS查询次数

DNS查询是需要时间的，在不影响速度的前提下，尽量将资源放在同一个域下。
HTTP /1.1 中推荐客户端针对每个域只有一定数量的并行度（它的建议是2），那么就会出现下载资源时的排队现象，这样就会降低性能。
建议在一个网站里面使用至少2个域，但不多于4个域来提供资源。
<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cat.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>懒加载-图片</title>
    <style>
        .container {
            width: 610px;
        }
        img {
            width: 300px;
            height: 200px;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/000000/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/000033/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/000066/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/000099/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0000CC/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0000FF/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/003300/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/003333/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/003366/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/003399/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0033CC/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0033FF/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/006600/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/006633/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/006666/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/006699/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0066CC/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0066FF/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/009900/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/009933/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/009966/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/009999/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0099CC/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/0099FF/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CC00/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CC33/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CC66/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CC99/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CCCC/fff">
        <img src="http://via.placeholder.com/300x200" alt="" data-src="http://temp.im/300x200/00CCFF/fff">
    </div>
    <script>
        var clock
        lazyRender()
        $(window).on('scroll',function(){
            if (clock) {
                clearTimeout(clock)
            }
            clock = setTimeout(() => {
                lazyRender()
            }, 500);
        })

        function lazyRender (){
            $('.container img').each(function(){
                if(checkShow($(this)) && !isLoaded($(this))) {
                    loadImg($(this))
                }
            })
        }

        function checkShow($img){
            var $scrollTop = $(window).scrollTop()
            var $windowHeight = $(window).height()
            var $offSet = $img.offset().top
            if ($offSet < $scrollTop + $windowHeight && $offSet > $scrollTop) {
                return true
            }
            return false
        }

        function isLoaded($img) {
            return $img.attr('data-src') === $img.attr('src')
        }

        function loadImg($img) {
            $img.attr('src',$img.attr('data-src'))
        }
    </script>
</body>
</html>